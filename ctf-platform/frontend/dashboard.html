<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="shell">
      <header class="row">
        <h1>Dashboard</h1>
        <button class="button secondary" onclick="logout()">Logout</button>
      </header>

      <section class="card">
        <h2>Public Key (SSH)</h2>
        <textarea id="public-key" rows="4" placeholder="ssh-ed25519 AAAA..."></textarea>
        <button class="button" onclick="saveKey()">Save Key</button>
      </section>

      <section class="card">
        <h2>Challenges</h2>
        <div id="challenges"></div>
      </section>

      <section class="card">
        <h2>Instances</h2>
        <div id="instances"></div>
      </section>

      <section class="card">
        <h2>Submit Flag</h2>
        <p style="color:var(--muted);font-size:0.9em;margin-bottom:12px;">Found the flag? Enter it below. You can also click "Submit Flag" on an instance above to auto-fill the challenge ID.</p>
        <label>Challenge ID<input id="flag-challenge" placeholder="e.g., challenge01" /></label>
        <label>Flag<input id="flag-value" placeholder="e.g., FLAG{...}" /></label>
        <button class="button" onclick="submitFlag()">Submit</button>
        <p id="flag-status" style="margin-top:12px;font-weight:600;"></p>
      </section>
    </main>
    <script src="app.js"></script>
    <script>
      loadDashboard();
    </script>
  </body>
</html>
